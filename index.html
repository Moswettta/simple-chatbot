<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Maosa AI Chatbot</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
    body { font-family:'Inter',sans-serif; background:#e2e8f0; display:flex; justify-content:center; align-items:center; height:100vh; margin:0;}
    .chat-container { background:#fff; border-radius:12px; box-shadow:0 10px 15px -3px rgba(0,0,0,0.1); width:100%; max-width:420px; height:80vh; display:flex; flex-direction:column; overflow:hidden;}
    .chat-messages { flex-grow:1; padding:1rem; overflow-y:auto; background:#f8fafc; border-bottom:1px solid #e2e8f0;}
    .message { max-width:80%; padding:0.75rem 1rem; border-radius:1.25rem; margin-bottom:0.75rem; word-wrap:break-word; display:flex; align-items:flex-start;}
    .message span i { font-size:1.1rem; vertical-align:middle; margin-right:0.5rem;}
    .message.user {background:#4f46e5; color:#fff; margin-left:auto; border-bottom-right-radius:0.25rem; flex-direction:row-reverse;}
    .message.user span i { margin-left:0.5rem; margin-right:0;}
    .message.bot {background:#e0e7ff; color:#1e293b; margin-right:auto; border-bottom-left-radius:0.25rem;}
    .chat-input { display:flex; padding:1rem; border-top:1px solid #e2e8f0;}
    .chat-input input { flex-grow:1; border:1px solid #cbd5e1; border-radius:9999px; padding:0.75rem 1.25rem; outline:none;}
    .chat-input input:focus {border-color:#6366f1;}
    .chat-input button { background:#4f46e5; color:#fff; border-radius:9999px; padding:0.75rem 1.25rem; margin-left:0.5rem; cursor:pointer;}
    .chat-input button:hover {background:#4338ca;}
</style>
</head>
<body>
<div class="chat-container">
    <div class="chat-messages" id="chat-messages">
        <div class="message bot"><span><i class="fas fa-robot"></i></span>Hello! I'm Maosa's AI Assistant ðŸ¤–<br>Ask me about Benjamin's education, skills, work experience, or say hello!</div>
    </div>
    <div class="chat-input">
        <input type="text" id="user-input" placeholder="Type your question..." autocomplete="off">
        <button id="send-button">Send</button>
    </div>
</div>

<script>
// === Chat setup ===
const chatMessages = document.getElementById('chat-messages');
const userInput = document.getElementById('user-input');
const sendButton = document.getElementById('send-button');

// === Your CV Data (with expanded education) ===
const cvData = {
    name: "Benjamin Maosa Mosweta",
    email: "benjaminmosweta@gmail.com",
    phone: "+254 798 458 270",
    address: "P.O BOX 6566-00300, Nairobi, Kenya",
    education: [
        "Bachelor of Business Information Technology (Mount Kenya University, 2023-2025)",
        "Diploma in Business IT (Mount Kenya University, 2021-2022)",
        "Certificate in Business IT (Mount Kenya University, 2018-2019)",
        "KCSE at Brightstar High School (2013-2017)",
        "KCPE at Solidarity Primary School (2004-2012)"
    ],
    educationDetails: `My BBIT course covers a blend of IT & business, including:
    <ul>
        <li>Software development & programming</li>
        <li>Database management & design</li>
        <li>Networking, IT infrastructure & security</li>
        <li>Systems analysis & design</li>
        <li>IT project management</li>
        <li>IT audit & risk management</li>
    </ul>
    This equips me to build, manage, and secure business systems, integrate IT into business processes, and support decision-making using data analytics.`,
    skills: [
        "PHP Backend Development", "Frontend Web Development (HTML, CSS, JavaScript)",
        "Databases (MySQL)", "Network Installation & Troubleshooting",
        "Hardware & Software Maintenance", "Microsoft Office", 
        "Technical Support & Call Center Management",
        "Project Coordination", "Sales & Marketing Support"
    ],
    experience: [
        "Junior IT Attachee at National Housing Corporation (Feb-May 2025)",
        "Junior IT Attachee at National Housing Corporation (May-Aug 2022)",
        "IT & Marketing Attachee at APRT SACCO (Jan-Apr 2020)"
    ],
    references: [
        "Dr. Mwaniki Solomon (Mount Kenya University) - nairobicenter@mku.ac.ke",
        "Yvonne Mwiti (APRT SACCO) - yvonnmwiti@gmail.com",
        "Mr. M. Mauta (NHC) - info@nhckenya.go.ke"
    ]
};

// === Keyword matching (now with course details) ===
const keywordMap = [
    { keywords: ["hello","hi","hey"], response: () => "Hi there! ðŸ‘‹ How can I assist you today?" },
    { keywords: ["how are you", "whats up", "how do you do"], response: () => "I'm doing great, thanks for asking! ðŸ¤– How can I help you?" },
    { keywords: ["joke", "fun"], response: () => "Why do programmers prefer dark mode? Because the light attracts bugs! ðŸ˜„" },
    { keywords: ["who made you","creator"], response: () => "I was proudly created by Benjamin Maosa Mosweta as part of his portfolio." },
    { keywords: ["name", "who are you"], response: () => `My name is ${cvData.name}.` },
    { keywords: ["email", "gmail"], response: () => `You can reach me at ${cvData.email}.` },
    { keywords: ["phone", "mobile", "contact"], response: () => `My phone number is ${cvData.phone}.` },
    { keywords: ["address", "live", "location"], response: () => `I live at ${cvData.address}.` },
    { keywords: ["education details","course content","what does your course"], response: () => cvData.educationDetails },
    { keywords: ["education", "school", "study", "degree", "diploma", "certificate"], response: () =>
        `Hereâ€™s my education:<br>${cvData.education.join("<br>")}<br><br>Want to know what my course entails? Just ask "What does your course entail?"` },
    { keywords: ["skill", "know", "competency"], response: () =>
        `These are my core skills:<br>${cvData.skills.join(", ")}` },
    { keywords: ["experience", "job", "work", "position"], response: () =>
        `Hereâ€™s my work experience:<br>${cvData.experience.join("<br>")}` },
    { keywords: ["reference", "referee"], response: () =>
        `Here are my references:<br>${cvData.references.join("<br>")}` },
    { keywords: ["cv", "resume", "pdf"], response: () =>
        `Sure! You can <a href="https://moswettta.github.io/MaosaDevPortfolio/Maosa_CV.pdf" target="_blank" class="text-indigo-600 underline">click here to download my CV in PDF format</a>.` }
];

// === Response logic ===
function getResponse(message) {
    const msg = message.toLowerCase();
    for (let entry of keywordMap) {
        if (entry.keywords.some(k => msg.includes(k))) {
            return entry.response();
        }
    }
    return "ðŸ¤” Hmm... Iâ€™m still learning. Try asking about my education, skills, or maybe say hello!";
}

// === Chat functions ===
function appendMessage(sender, text) {
    const msgDiv = document.createElement('div');
    msgDiv.classList.add('message', sender);
    const icon = sender === 'user'
        ? '<span><i class="fas fa-user"></i></span>'
        : '<span><i class="fas fa-robot"></i></span>';
    msgDiv.innerHTML = icon + text;
    chatMessages.appendChild(msgDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

function sendMessage() {
    const text = userInput.value.trim();
    if (!text) return;
    appendMessage('user', text);
    userInput.value = '';
    setTimeout(() => {
        const reply = getResponse(text);
        appendMessage('bot', reply);
    }, 400);
}

// === Listeners ===
sendButton.addEventListener('click', sendMessage);
userInput.addEventListener('keypress', e => { if (e.key === 'Enter') sendMessage(); });
</script>
</body>
</html>
